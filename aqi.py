epa={'O3':[[0,54],[55,70],[71,85],[86,105],[106,200],[201,250],[251,300]],
     'O3hrly':[[],[],[125,164],[165,204],[205,404],[405,504],[505,604]],
     'PM2.5':[[0.0,12.0],[12.1,35.4],[35.5,55.4],[55.5,150.4],[150.5,250.4],[250.5,350.4],[350.5,500.4]],
     'PM10':[[0,54],[55,154],[155,254],[255,354],[355,424],[425,504],[505,604]],
     'CO':[[0.0,4.4],[4.5,9.4],[9.5,12.4],[12.5,15.4],[15.5,30.4],[30.5,40.4],[40.5,50.4]],
     'SO2':[[0,35],[36,75],[76,185],[186,304],[305,604],[605,804],[805,1004]],
     'NO2':[[0,53],[54,100],[101,360],[361,649],[650,1249],[1250,1649],[1650,2049]],
     'AQI':[[0,50],[51,100],[101,150],[151,200],[201,300],[301,400],[401,500]]}

AQI_cat=['good','moderate','unhealthy for sensitive groups','unhealthy','very unhealthy', 'hazardous', 'hazardous']

def find_aqi(pollutant,conc):
    i=0
    if conc > epa[pollutant][5][1]:
        return int(epa['AQI'][5][1])
    for range in epa[pollutant]:
        if conc>= range[0] and conc<=range[1]:
            break
        i+=1
    aqi = (float(epa['AQI'][i][1] - epa['AQI'][i][0])/(range[1]-range[0]))*(conc-range[0]) + epa['AQI'][i][0]
    return(int(aqi))
